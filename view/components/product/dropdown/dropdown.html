{% set id = id|default('products_dropdown') %}
{% set name = name|default('product') %}
{% set size = size|default(15) %}
{% set model = createModel('Products','products') %}
{% set items = model.orderBy('position').take(size).get() %}
{% if selected is not empty %}
    {% set selected = model.findById(selected) %}
{% endif %}
{% set selected_text = (selected is empty) ? labels.select : selected.title %}
<div class="ui search selection dropdown product-dropdown" id="{{ id }}">
    <input name="{{ name }}" type="hidden" value="{{ selected.uuid }}">
    <i class="dropdown icon"></i>
    <div class="text">{{ selected_text }}</div>
    <div class="menu">
        {% for item in items %}
        <div class="item" data-value="{{ item.uuid }}">{{ item.title }}</div>
        {% endfor %}
    </div>
</div>