{% set show_deleted = searchValue('show_deleted','products') %}
{% set type_id = searchValue('type_id','products') %}
<div class="{{ theme.panel }} flex flex-row items-center">     
    <div class="join mx-4">
        <button 
            title="{{ labels.import }}"
            mountTo="product_details"
            component="content::admin.import"
            params="uuid:{{ item.uuid }},model_class:Products,schema_class:Products,extension:products"
            class="join-item {{ theme.buttons.green }} product-action">
            {{ buttons.import }}
        </button>  
        <button 
            mountTo="product_details"
            component="products::admin.products.add"
            title="{{ labels.create }}"
            class="join-item {{ theme.buttons.green }} product-action">
            {{ buttons.create }}
        </button>
    </div>
    <div class="mx-4 w-1/4 flex flex-row items-center">
        <span class="font-bold mx-2">
            {{ labels.type }}
        </span>
        {{  component('products::admin.type.dropdown',{               
                selected: type_id, 
                show_all: true,
                size: 'select-sm',
                data_column: 'id'                       
            }) 
        }}
    </div>       
    <div class="ml-4 w-1/2">                 
        {{ component("system:admin.search.form",{ namespace: 'products' }) }}                    
    </div>
</div>
<div class="mt-4 flex flex-row items-start flex-grow">
    <div class="min-w-full hidden" id="product_details">
    </div>
    <div class="ml-4 w-full {{ theme.panel }}">
        <table class="{{ theme.table.default }}">
        <thead>
            <tr>              
                <th class="w-32">{{ columns.action }}</th>
                <th class="w-32">{{ columns.image }}</th>
                <th class="">{{ columns.created }}</th>
                <th class="">{{ columns.status }}</th>
                <th class="">{{ columns.type }}</th>  
                <th>{{ columns.title }}</th>    
                <th>{{ columns.category }}</th>                             
                <th class="">{{ columns.price }}</th>  
                <th >{{ columns.user }}</th>                                      
            </tr>
        </thead>
        <tbody 
            id="product_rows">
            {{ component('products::admin.products.view.rows') }} 
        </tbody>
        </table> 
        <div class="mt-2 ml-2" id="paginator">   
            {{  component("system:admin.paginator",{ 
                    id: 'products_paginator',
                    namespace: 'products',
                    rows_selector: 'product_rows',
                    component:"products::admin.products.view.rows" 
                })  
            }}           
        </div>
    </div>
</div>